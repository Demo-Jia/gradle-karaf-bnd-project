buildscript {
  repositories {
    jcenter()
  }
  dependencies {
    classpath 'biz.aQute.bnd:biz.aQute.bnd.gradle:3.0.0'
  }

}

subprojects {
    apply plugin: 'java'
    apply plugin: 'biz.aQute.bnd.builder'
    apply plugin: 'maven-publish'
 
    repositories {
        mavenCentral()
    }
  
    sourceCompatibility = 1.8
    group = 'net.sf.greeting'
    version = '1.0.0-SNAPSHOT'
   
    
    dependencies {
        testCompile 'junit:junit:4.12'
        compile 'biz.aQute.bnd:biz.aQute.bnd.gradle:3.0.0'
    }
    
    
	task sourcesJar(type: Jar, dependsOn: classes) {
	    from sourceSets.main.allSource
	}
	
	task javadocJar(type: Jar, dependsOn: javadoc) {
	    from javadoc.destinationDir
	}
	
	task sourceJar(type: Jar) {
        from sourceSets.main.allJava
    }

    publishing {
        publications {
            mavenJava(MavenPublication) {
                from components.java

	            artifact sourceJar {
	                classifier "sources"
	            }
	            artifact javadocJar {
                   classifier "javadoc"
                }
             }
        }
    }
  
}
// See http://stackoverflow.com/questions/9547170/in-gradle-how-do-i-declare-common-dependencies-in-a-single-place

ext.libraries = [ // Groovy map literal
      osgi_compendium: "org.osgi:org.osgi.compendium:5.0.0"
]





